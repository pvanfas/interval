"use strict";(self.webpackChunklittle_genie=self.webpackChunklittle_genie||[]).push([[908],{5392:function(e,r,a){a.r(r),a.d(r,{default:function(){return te}});var n=a(885),t=a(2791),o={wrapper:"Products_wrapper__YUgDg",openModal:"Products_openModal__tFfr7",banner:"Products_banner__N1FP3",underlay:"Products_underlay__2d8Hs",productsSection:"Products_productsSection__iRw00",products:"Products_products__XtDYp",prodRow:"Products_prodRow__cOmwZ",productImage:"Products_productImage__9cOCs",rating:"Products_rating__-cJ8-",productInfo:"Products_productInfo__1tYc-",name:"Products_name__REtKA",category:"Products_category__jg9zk",price:"Products_price__aqcrK",buttons:"Products_buttons__7lAXK"},s=a(8182),i=a(6659),c=a(828),d=a(8851),l=a(4758),u=a(2801),p=a(701),_=a(6027),f="ProductModal_wrapper__HPP6U",h="ProductModal_productImage__1hQpC",m="ProductModal_productInfo__0RWZF",g="ProductModal_name__kQB7r",x="ProductModal_price__dV6NH",v="ProductModal_description__gbvvA",y=a(5923),C=a(4107);var j=a(184);function E(e){var r=e.activeProduct,a=e.productId,o=e.isOpen,s=e.onClose,i=e.toggleEnquiryModal,c=(0,t.useState)({}),d=(0,n.Z)(c,2),l=d[0],p=d[1];function _(){var e;(e=a,(0,C.A)("/products/".concat(e))).then((function(e){p(e.data)})).catch((function(e){console.log(e)}))}return(0,t.useEffect)((function(){_()}),[a]),(0,j.jsx)(y.Z,{className:f,isOpen:o,onClose:s,children:(0,j.jsxs)("article",{children:[(0,j.jsx)("div",{className:h,children:(0,j.jsx)("img",{src:l.photo,alt:""})}),(0,j.jsxs)("div",{className:m,children:[(0,j.jsxs)("div",{className:g,children:[l.name," ",(0,j.jsx)("span",{children:l.category})]}),(0,j.jsxs)("div",{className:x,children:["\u20b9 ",l.price]}),(0,j.jsx)("div",{className:v,children:l.description}),(0,j.jsx)(u.Z,{onClick:function(){return i(r)},children:"Enquire Now"})]})]},l.id)})}var P="BannerCarousel_wrapper__ZObDg",S="BannerCarousel_slide__rb+25",O="BannerCarousel_productImage__xWc-X",Z="BannerCarousel_productInfo__vH4JM",N="BannerCarousel_ribbon__5dL0X",M="BannerCarousel_text__FxFmI",A="BannerCarousel_ribbonTop__Q6xVX",T="BannerCarousel_ribbonBottom__K7-fD",w="BannerCarousel_name__v5AEt",I="BannerCarousel_category__53kZw",b="BannerCarousel_rating__FE4QL",q="BannerCarousel_price__jtDyK",D="BannerCarousel_buttons__onJ2H",R=a(2815),B=a(4899),L="StarRating_wrapper__fPFqm";function k(e){var r=e.count,a=(0,t.useState)([]),o=(0,n.Z)(a,2),s=o[0],i=o[1],d=(0,t.useCallback)((function(){var e=[];if(r%1===0)for(var a=0;a<r;a++)e.push({count:a,isHalf:!1});else{for(var n=0;n<Math.floor(r);n++)e.push({count:n,isHalf:!1});e.push({count:Math.floor(r)+1,isHalf:!0})}i(e)}),[r]);return(0,t.useEffect)((function(){d()}),[]),(0,j.jsx)("div",{className:L,children:s.map((function(e){return e.isHalf?(0,j.jsx)(c.Uw3,{size:11},e.count):(0,j.jsx)(c.aQ4,{size:11},e.count)}))})}function F(e){var r=e.className,a=e.offerProducts,n=e.toggleEnquiryModal;return a&&(0,j.jsx)(R.tq,{id:"offer_products_carousel",className:(0,s.Z)(P,r),slidesPerView:1,allowTouchMove:!0,speed:1e3,modules:[B.W_],navigation:!0,spaceBetween:0,children:a.map((function(e){var r=e.product,a=e.off_percent,t=e.offer_price;return(0,j.jsx)(R.o5,{children:function(){return(0,j.jsxs)("article",{className:S,children:[(0,j.jsx)("div",{className:O,children:(0,j.jsx)("img",{src:r.photo,alt:""})}),(0,j.jsxs)("div",{className:Z,children:[(0,j.jsxs)("div",{className:N,children:[(0,j.jsxs)("div",{className:M,children:["With ",Math.round(a),"% off"]}),(0,j.jsx)("div",{className:A}),(0,j.jsx)("div",{className:T})]}),(0,j.jsx)("div",{className:w,children:r.name}),(0,j.jsx)("div",{className:I,children:r.category}),(0,j.jsx)("div",{className:b,children:(0,j.jsx)(k,{count:r.rating})}),(0,j.jsxs)("div",{className:q,children:["\u20b9 ",t]}),(0,j.jsx)("div",{className:D,children:(0,j.jsx)(u.Z,{onClick:function(){return n(r)},children:"Enquire Now"})})]})]})}},r.id)}))})}var Q=a(1413),H={wrapper:"CategorySelector_wrapper__+0bPO"},W=a(7692),Y=a(2106);function V(e){var r=e.categories,a=e.onChange,n="150px",t="14px",o={container:function(e,r){r.isFocused;return(0,Q.Z)((0,Q.Z)({},e),{},{borderColor:"transparent !important",width:n})},control:function(e,r){r.isFocused;return(0,Q.Z)((0,Q.Z)({},e),{},{boxShadow:"unset !important",borderColor:"transparent !important",fontSize:t,backgroundColor:"white",borderRadius:"5px",width:n,minHeight:"0px",height:"32px",cursor:"pointer"})},option:function(e,r){r.data,r.isDisabled,r.isFocused;var a=r.isSelected;return(0,Q.Z)((0,Q.Z)({},e),{},{fontSize:t,textAlign:"right",backgroundColor:a?"#a34791":"white",cursor:"pointer","&:hover":{backgroundColor:"rgba(1,1,1,0.1)"}})},input:function(e){return(0,Q.Z)((0,Q.Z)({},e),{},{color:"transparent"})}},s=r.map((function(e){return{label:e,value:e}}));return s.unshift({label:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(W.lOx,{size:30,style:{marginRight:"0px"}}),(0,j.jsx)("span",{style:{textAlign:"right",width:"100%"},children:"All Categories"})]}),value:"all"}),(0,j.jsx)("div",{className:H.wrapper,children:(0,j.jsx)("div",{className:H.selector,children:(0,j.jsx)(Y.ZP,{defaultValue:s[0],options:s,styles:o,onChange:a,components:{IndicatorSeparator:function(){return null},DropdownIndicator:function(){return null}}})})})}var z="Enquiry_wrapper__hxeIQ",U="Enquiry_apiError__oDaD2",G=a(5176),K=a(2575),X=a(5476);function J(e){var r=e.activeProduct,a=e.onClose,o=(0,t.useState)(!1),s=(0,n.Z)(o,2),i=s[0],c=s[1],d=(0,t.useState)(!1),l=(0,n.Z)(d,2),u=l[0],p=l[1],_=r,f=(0,G.cI)({mode:"onBlur"}),h=f.register,m=f.handleSubmit,g=f.formState.errors;return(0,j.jsx)(X.Z,{onClose:a,children:(0,j.jsxs)("form",{className:z,onSubmit:m((function(e){c(!1),p(!0),function(e){return(0,C.j)("/general/product-enquiry/",e)}(e=(0,Q.Z)((0,Q.Z)({},e),{},{product:_.id})).then((function(e){a()})).catch((function(e){console.log(e),c(!0)})).finally((function(){p(!1)}))})),children:[(0,j.jsx)("input",(0,Q.Z)({placeholder:"Enter name of your child"},h("name",{required:"* Required"}))),g.name&&(0,j.jsx)("p",{children:g.name.message}),(0,j.jsx)("input",(0,Q.Z)({placeholder:"Email Address"},h("email",{required:"* Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"invalid email address"}}))),g.email&&(0,j.jsx)("p",{children:g.email.message}),(0,j.jsx)("input",(0,Q.Z)({type:"number",placeholder:"Mobile Number"},h("phone",{required:"* Required",maxLength:11,minLength:8}))),g.phone&&(0,j.jsx)("p",{children:"Please enter valid phone number."}),(0,j.jsx)("input",{type:"text",readOnly:!0,value:_.name}),(0,j.jsx)("textarea",(0,Q.Z)((0,Q.Z)({},h("message",{required:"* Required"})),{},{placeholder:"Type your message"})),g.message&&(0,j.jsx)("p",{children:g.message.message}),i&&(0,j.jsx)("p",{className:U,children:"An error occured. Please try again"}),(0,j.jsx)("button",{disabled:u,type:"submit",children:u?(0,j.jsx)(K.ClipLoader,{size:20,color:"#9f0b91"}):"Submit"})]})})}var $={isLoading:!0,prodsByCat:{all:[]},activeCat:"all",allCats:[],offerProducts:[],isOpenModal:!1,isOpenEnquiryModal:!1,isOpenCongratsModal:!1,activeModalId:"",activeEnquiryProd:{},activeProduct:{}};function ee(e,r){var a=r.type,n=r.payload;switch(a){case"SET_IS_LOADING":return(0,Q.Z)((0,Q.Z)({},e),{},{isLoading:n.isLoading});case"SET_PRODS_BY_CAT":return(0,Q.Z)((0,Q.Z)({},e),{},{prodsByCat:n.prodsByCat});case"SET_OFFER_PRODS":return(0,Q.Z)((0,Q.Z)({},e),{},{offerProds:n.offerProds});case"SET_CATS":return(0,Q.Z)((0,Q.Z)({},e),{},{allCats:n.allCats});case"SET_ACTIVE_CAT":return(0,Q.Z)((0,Q.Z)({},e),{},{activeCat:n.activeCat});case"SET_ACTIVE_MODAL_ID":return(0,Q.Z)((0,Q.Z)({},e),{},{activeModalId:n.activeModalId});case"SET_ACT_PROD":return(0,Q.Z)((0,Q.Z)({},e),{},{activeProduct:n.activeProduct});case"SET_IS_OPEN_MODAL":return(0,Q.Z)((0,Q.Z)({},e),{},{isOpenModal:n.isOpenModal});case"SET_IS_OPEN_ENQUIRY_MODAL":return(0,Q.Z)((0,Q.Z)({},e),{},{isOpenEnquiryModal:n.isOpenEnquiryModal});case"SET_IS_OPEN_CONGRATS_MODAL":return(0,Q.Z)((0,Q.Z)({},e),{},{isOpenCongratsModal:n.isOpenCongratsModal});case"SET_ACT_ENQUIRY_PROD":return(0,Q.Z)((0,Q.Z)({},e),{},{activeEnquiryProd:n.activeEnquiryProd});default:return e}}function re(){var e=(0,t.useReducer)(ee,$),r=(0,n.Z)(e,2),a=r[0],o=r[1];function s(){(0,C.A)("/products/offers").then((function(e){o({type:"SET_OFFER_PRODS",payload:{offerProds:e.data}})}))}function i(){o({type:"SET_IS_LOADING",payload:{isLoading:!0}}),(0,C.A)("/products").then((function(e){var r=e.data,a={all:r},n=new Set;r.forEach((function(e){a[e.category]=[],n.add(e.category)})),r.forEach((function(e){a[e.category].push(e)})),o({type:"SET_CATS",payload:{allCats:Array.from(n)}}),o({type:"SET_PRODS_BY_CAT",payload:{prodsByCat:a}})})).catch((function(e){console.log(e)})).finally((function(){o({type:"SET_IS_LOADING",payload:{isLoading:!1}})}))}return(0,t.useEffect)((function(){i(),s()}),[]),{state:a,changeActiveCat:function(e){o({type:"SET_ACTIVE_CAT",payload:{activeCat:e.value}})},toggleProdModal:function(e){o({type:"SET_IS_OPEN_MODAL",payload:{isOpenModal:!a.isOpenModal}}),e&&o({type:"SET_ACTIVE_MODAL_ID",payload:{activeModalId:e.id}}),e&&o({type:"SET_ACT_PROD",payload:{activeProduct:e}})},toggleEnquiryModal:function(e){o({type:"SET_IS_OPEN_ENQUIRY_MODAL",payload:{isOpenEnquiryModal:!a.isOpenEnquiryModal}}),o({type:"SET_IS_OPEN_MODAL",payload:{isOpenModal:!1}}),e&&o({type:"SET_ACT_ENQUIRY_PROD",payload:{activeEnquiryProd:e}}),e&&o({type:"SET_ACT_PROD",payload:{activeProduct:e}}),e||(o({type:"SET_IS_OPEN_CONGRATS_MODAL",payload:{isOpenCongratsModal:!0}}),window.setTimeout((function(){o({type:"SET_IS_OPEN_CONGRATS_MODAL",payload:{isOpenCongratsModal:!1}})}),4e3))}}}var ae=a(4238),ne=["ABC","DEF","TYP"];function te(){var e=re(),r=e.state,a=e.changeActiveCat,f=e.toggleProdModal,h=e.toggleEnquiryModal,m=r.prodsByCat,g=r.activeCat,x=r.isLoading,v=m[g],y=(0,t.useState)([]),C=(0,n.Z)(y,2),P=C[0],S=C[1],O=(0,t.useState)(4),Z=(0,n.Z)(O,2),N=Z[0],M=Z[1];function A(){window.innerWidth<1350&&window.innerWidth>1050?M(3):window.innerWidth<1050&&window.innerWidth>650?M(2):window.innerWidth<650?M(1):M(4)}return(0,t.useEffect)((function(){S((0,ae.S)(v,N))}),[v,N]),(0,i.w_)(A),(0,t.useEffect)((function(){A()}),[]),x?(0,j.jsx)(p.Z,{height:"90vh"}):(0,j.jsxs)("main",{className:(0,s.Z)(o.wrapper,r.isOpenModal&&o.openModal),children:[(0,j.jsx)("section",{className:o.banner,children:(0,j.jsxs)(d.Z,{children:[(0,j.jsx)("div",{className:o.underlay}),(0,j.jsx)(F,{className:o.carouselWrapper,toggleEnquiryModal:h,offerProducts:r.offerProds})]})}),(0,j.jsxs)(d.Z,{className:o.productsSection,children:[(0,j.jsxs)("header",{children:[(0,j.jsx)(l.Z,{children:"All Products"}),(0,j.jsx)(V,{categories:r.allCats,onChange:a})]}),(0,j.jsx)("section",{className:o.products,children:P.map((function(e,r){return(0,j.jsx)("div",{className:o.prodRow,children:e.map((function(e){return(0,j.jsxs)("article",{children:[(0,j.jsxs)("div",{className:o.productImage,children:[(0,j.jsx)("img",{src:e.photo,alt:""}),(0,j.jsxs)("div",{className:o.rating,children:[e.rating," ",(0,j.jsx)(c.aQ4,{size:12})]})]}),(0,j.jsxs)("div",{className:o.productInfo,children:[(0,j.jsx)("div",{className:o.name,children:e.name}),(0,j.jsx)("div",{className:o.category,children:e.category}),(0,j.jsxs)("div",{className:o.price,children:["\u20b9 ",e.price]}),(0,j.jsxs)("div",{className:o.buttons,children:[(0,j.jsx)(u.Z,{onClick:function(){return h(e)},children:"Enquire Now"}),(0,j.jsx)(u.Z,{type:"light",onClick:function(){return f(e)},children:"View More"})]})]})]},e.id)}))},ne[r])}))})]}),r.isOpenModal&&(0,j.jsx)(E,{toggleEnquiryModal:h,isOpen:r.isOpenModal,onClose:f,productId:r.activeModalId,activeProduct:r.activeProduct}),r.isOpenCongratsModal&&(0,j.jsx)(_.Z,{}),r.isOpenEnquiryModal&&(0,j.jsx)(J,{activeProduct:r.activeProduct,product:r.activeEnquiryProd,onClose:h})]})}}}]);
//# sourceMappingURL=908.a1c9bf52.chunk.js.map